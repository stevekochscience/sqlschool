<html>
<head>  
  <!-- Image Links -->
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
  <link href="/images/mode-favicon-black.ico" rel="shortcut icon" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  
  <!-- CDNs for Bootstrap and Fonts -->
  <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css">
  <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css">
  <link href="//cloud.webtype.com/css/c014726f-64f1-4bf0-b9ff-6db715a1147a.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
  <script type="text/javascript" src="//netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
  
  <!-- Mode Stylsheet-->
  <link rel="stylesheet" href="/css/mode-sqlschool.css">
  
  <title>Full Joins and UNION - </title>

</head>
<body>
  <nav id="header-nav" role="navigation">
    <div class="container" id="header-container">
      
      <!-- Show the logo and, if on a phone, the menu toggle -->
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <ul class="navbar-logo">
          <li id="navbar-logo" ><a href="/"><img id = "header-logo" src="/images/logo.png" /></a></li>
          <li id="navbar-sqlschool"><a href-"/">SQL SCHOOL</a></li>
        </ul>
      </div>
      <!-- Everything here gets hidden for phones -->
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav navbar-right">
          <li><a href="http://help.modeanalytics.com">Help</a></li>
          <li><a href="http://modeanalytics.com">Return to Mode</a></li>
        </ul>
      </div>
      
    </div>
  </nav>
  
  <section class="lesson">
  
  <div class="container">

    <div class="breadcrumbs col-sm-12">
      <a href="/#intermediate">&laquo; Back to Index</a>
    </div>
    
  </div>
</section>

<section class="question">
  <div class="container">
    <h2>Full Joins and UNION</h2>
    
    <h3>FULL OUTER JOIN</h3>

<p>You&#39;re not likely to use <code>FULL JOIN</code> (can also be written as <code>FULL OUTER JOIN</code>) too often, but it&#39;s worth covering anyway. <code>LEFT JOIN</code> and <code>RIGHT JOIN</code> each return unmatched rows from one of the tables &mdash; <code>FULL JOIN</code> returns unmatched rows from both tables. It is commonly used in conjunction with aggregations to understand the amount of overlap between two tables:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">SELECT COUNT(CASE WHEN __ IS NULL THEN 1 ELSE NULL END) AS table1_count,
       COUNT(CASE WHEN __ IS NULL THEN 1 ELSE NULL END) AS table2_count,
       COUNT(CASE WHEN __ IS NOT NULL AND __ IS NOT NULL THEN 1 ELSE NULL END) AS overlap_count
FROM table
</code></pre></div>
<h3>UNION</h3>

<p>Joins allow you to combine two datasets side-by-side, but <code>UNION</code> allows you to stack one dataset on top of the other? Put differently, <code>UNION</code> allows you to append everything in a dataset onto everything in another dataset. In order to specify the datasets you want to sandwich together, you&#39;ll need to actually write two separate <code>SELECT</code> statements:</p>

<!-- UNION EXAMPLE -->

<p>Note that <code>UNION</code> only appends distinct values. If you&#39;d like to append all the values from the second table, use <code>UNION ALL</code>. You&#39;ll likely use <code>UNION ALL</code> far more often than <code>UNION</code>.</p>

<!-- UNION ALL example -->

<p>SQL has strict rules for appending data:</p>

<ol>
<li>Both tables must have the same number of columns</li>
<li>The columns must have the same data types in the same order as the first table</li>
</ol>

<p>While the column names don&#39;t necessarily have to be the same, you will find that they typically are. This is because most of the instances in which you&#39;d want to use <code>UNION</code> involve stitching together different parts of the same dataset. For example, if you&#39;ve got several sets of stock ticker data &mdash; one table for each ticker symbol &mdash; you might want to <code>UNION</code> the tables so that you can aggregate across multiple ticker symbols:</p>

<!-- ticker symbol example -->

<p>Keep in mind that since you are writing two separate <code>SELECT</code> statements, you can filter them differently using different <code>WHERE</code> clauses:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">SELECT * FROM ____ WHERE x
 UNION ALL
SELECT * FROM ____ WHERE y
</code></pre></div>
<h3>Practice Time</h3>

<!-- full join -->

<!-- union all example-->

<h3>Next Steps</h3>

<p>Congratulations, you&#39;ve learned most of the technical stuff you need to know to get around Mode. The advanced tutorial covers some more technical features that will greatly extend the tools you&#39;ve already learned, as well as some tips to manage different types of data and make your queries run faster.</p>

<p>Click here to move on to the next tutorial: <a href="/advanced/data-types.html">Data Types</a></p>

  
  </div>
</section>

  
  <footer class="footer">
    <div class="container">
      <nav class="navbar-footer">
        <ul class="nav navbar-nav">
        <li><a href="http://modeanalytics.com/">Home</a></li>
        <li><a href="http://modeanalytics.com/press.html">Press</a></li>
        <li><a href="http://blog.modeanalytics.com">Blog</a></li>
        </ul>
        <ul class="nav navbar-nav navbar-right">
          <li><a href="http://modeanalytics.com">&copy; Mode Analytics 2013</a></li>
        </ul>
      </nav>
    </div>
  </footer>
</body>
</html>